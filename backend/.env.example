# =============================================================================
# Werco ERP - Backend Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# See docs/ENVIRONMENT_VARIABLES.md for full documentation
# =============================================================================

# -----------------------------------------------------------------------------
# Database (Required)
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://werco_user:<your-db-pass>@localhost:5432/werco_erp

# Connection Pool Settings (optional - defaults shown)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800
DB_POOL_PRE_PING=true

# -----------------------------------------------------------------------------
# Security (Required - CHANGE IN PRODUCTION!)
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=change-this-to-a-random-string-at-least-32-characters
REFRESH_TOKEN_SECRET_KEY=change-this-different-key-for-refresh-tokens

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
SESSION_ABSOLUTE_TIMEOUT_HOURS=24

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_TIMES=100
RATE_LIMIT_SECONDS=60
RATE_LIMIT_EXEMPT_PATHS=/health,/api/docs,/api/openapi.json,/api/redoc

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_NAME=Werco ERP
DEBUG=false
ENVIRONMENT=development
API_V1_PREFIX=/api/v1
PORT=8000
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Authorization,Content-Type,X-Requested-With,Accept,Origin,If-None-Match,If-Match

# -----------------------------------------------------------------------------
# Redis Cache (Recommended)
# -----------------------------------------------------------------------------
# Full URL takes precedence over individual settings
REDIS_URL=redis://localhost:6379/0
# Or use individual settings:
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0

# -----------------------------------------------------------------------------
# Email (SMTP)
# -----------------------------------------------------------------------------
# For Gmail: use App Password from https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@werco.com
SMTP_FROM_NAME=Werco ERP System

# -----------------------------------------------------------------------------
# File Storage (S3-compatible)
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=werco-erp-documents

# -----------------------------------------------------------------------------
# External Services
# -----------------------------------------------------------------------------
# Anthropic API for AI-powered PO extraction
ANTHROPIC_API_KEY=

# Sentry error tracking
SENTRY_DSN=

# Webhook encryption
WEBHOOK_ENCRYPTION_KEY=
